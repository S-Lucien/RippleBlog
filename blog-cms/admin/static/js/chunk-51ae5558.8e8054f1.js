(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-51ae5558"],{"323e":function(e,t,n){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(r=function(){var e,t,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(e,t,n){return e<t?t:e>n?n:e}function o(e){return 100*(-1+e)}n.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(r[t]=n);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=i(e,r.minimum,1),n.status=1===e?null:e;var u=n.render(!t),c=u.querySelector(r.barSelector),l=r.speed,f=r.easing;return u.offsetWidth,s((function(t){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),a(c,function(e,t,n){var i;return(i="translate3d"===r.positionUsing?{transform:"translate3d("+o(e)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+o(e)+"%,0)"}:{"margin-left":o(e)+"%"}).transition="all "+t+"ms "+n,i}(e,l,f)),1===e?(a(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout((function(){a(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){n.remove(),t()}),l)}),l)):setTimeout(t,l)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout((function(){n.status&&(n.trickle(),e())}),r.trickleSpeed)};return r.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*i(Math.random()*t,.1,.95)),t=i(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},e=0,t=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===t&&n.start(),e++,t++,r.always((function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this):this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=r.template;var i,s=t.querySelector(r.barSelector),u=e?"-100":o(n.status||0),l=document.querySelector(r.parent);return a(s,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),r.showSpinner||(i=t.querySelector(r.spinnerSelector))&&m(i),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(t),t},n.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(r.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&m(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var s=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),a=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()})),t[n]||(t[n]=function(t){var n=document.body.style;if(t in n)return t;for(var r,i=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);i--;)if((r=e[i]+o)in n)return r;return t}(n))}function r(e,t,r){t=n(t),e.style[t]=r}return function(e,t){var n,i,o=arguments;if(2==o.length)for(n in t)void 0!==(i=t[n])&&t.hasOwnProperty(n)&&r(e,n,i);else r(e,o[1],o[2])}}();function u(e,t){return("string"==typeof e?e:f(e)).indexOf(" "+t+" ")>=0}function c(e,t){var n=f(e),r=n+t;u(n,t)||(e.className=r.substring(1))}function l(e,t){var n,r=f(e);u(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function f(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function m(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n})?r.call(t,n,t,e):r)||(e.exports=i)},9762:function(e,t,n){},a5d8:function(e,t,n){},aaef:function(e,t,n){"use strict";n.r(t);n("e9c4");var r=n("c9f7"),i={name:"Setting",data:function(){return{githubToken:"",githubUserInfo:{login:"未配置"},isGithubSave:!1,hintShow:!1,upyunConfig:{username:"",password:"",bucketName:"",domain:""},txyunConfig:{secretId:"",secretKey:"",bucketName:"",region:"",domain:""}}},computed:{isUpyunSave:function(){return this.upyunConfig.username&&this.upyunConfig.password&&this.upyunConfig.bucketName&&this.upyunConfig.domain},isTxyunSave:function(){return this.txyunConfig.secretId&&this.txyunConfig.secretKey&&this.txyunConfig.bucketName&&this.txyunConfig.region&&this.txyunConfig.domain}},created:function(){this.githubToken=localStorage.getItem("githubToken");var e=localStorage.getItem("githubUserInfo");this.githubToken&&e?(this.githubUserInfo=JSON.parse(e),this.isGithubSave=!0):this.githubUserInfo={login:"未配置"};var t=localStorage.getItem("upyunConfig");t&&(this.upyunConfig=JSON.parse(t));var n=localStorage.getItem("txyunConfig");n&&(this.txyunConfig=JSON.parse(n));var r=window.localStorage.getItem("user")||"{}",i=JSON.parse(r);"{}"!==r&&"ROLE_admin"!==i.role&&(this.hintShow=!0)},methods:{searchGithubUser:function(){var e=this;Object(r.c)(this.githubToken).then((function(t){e.githubUserInfo=t,e.isGithubSave=!0}))},saveGithub:function(e){e?(localStorage.setItem("githubToken",this.githubToken),localStorage.setItem("githubUserInfo",JSON.stringify(this.githubUserInfo)),this.msgSuccess("保存成功")):(localStorage.removeItem("githubToken"),localStorage.removeItem("githubUserInfo"),this.msgSuccess("清除成功"))},saveTxyun:function(e){e?(localStorage.setItem("txyunConfig",JSON.stringify(this.txyunConfig)),this.msgSuccess("保存成功")):(localStorage.removeItem("txyunConfig"),this.msgSuccess("清除成功"))}}},o=(n("f024"),n("2877")),s=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[e._v("GitHub配置")])]),n("el-row",[n("el-col",[n("el-input",{staticStyle:{"min-width":"500px"},attrs:{placeholder:"请输入token进行初始化",clearable:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchGithubUser(t)}},model:{value:e.githubToken,callback:function(t){e.githubToken=t},expression:"githubToken"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchGithubUser},slot:"append"},[e._v("查询")])],1)],1)],1),n("el-row",[n("el-col",[n("span",{staticClass:"middle"},[e._v("当前用户：")]),n("el-avatar",{attrs:{size:50,src:e.githubUserInfo.avatar_url}},[e._v("User")]),n("span",{staticClass:"middle"},[e._v(e._s(e.githubUserInfo.login))])],1)],1),n("el-row",[n("el-col",[n("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-check",disabled:!e.isGithubSave},on:{click:function(t){return e.saveGithub(!0)}}},[e._v("保存配置")]),n("el-button",{attrs:{type:"info",size:"medium",icon:"el-icon-close"},on:{click:function(t){return e.saveGithub(!1)}}},[e._v("清除配置")])],1)],1)],1),n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[e._v("阿里云存储配置")])]),n("el-form",{attrs:{model:e.txyunConfig,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"secret-id"}},[n("el-input",{model:{value:e.txyunConfig.secretId,callback:function(t){e.$set(e.txyunConfig,"secretId",t)},expression:"txyunConfig.secretId"}})],1),n("el-form-item",{attrs:{label:"secret-key"}},[n("el-input",{model:{value:e.txyunConfig.secretKey,callback:function(t){e.$set(e.txyunConfig,"secretKey",t)},expression:"txyunConfig.secretKey"}})],1),n("el-form-item",{attrs:{label:"存储空间名"}},[n("el-input",{model:{value:e.txyunConfig.bucketName,callback:function(t){e.$set(e.txyunConfig,"bucketName",t)},expression:"txyunConfig.bucketName"}})],1),n("el-form-item",{attrs:{label:"地域"}},[n("el-input",{model:{value:e.txyunConfig.region,callback:function(t){e.$set(e.txyunConfig,"region",t)},expression:"txyunConfig.region"}})],1),n("el-form-item",{attrs:{label:"CDN访问域名"}},[n("el-input",{model:{value:e.txyunConfig.domain,callback:function(t){e.$set(e.txyunConfig,"domain",t)},expression:"txyunConfig.domain"}})],1),n("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-check",disabled:!e.isTxyunSave},on:{click:function(t){return e.saveTxyun(!0)}}},[e._v("保存配置")]),n("el-button",{attrs:{type:"info",size:"medium",icon:"el-icon-close"},on:{click:function(t){return e.saveTxyun(!1)}}},[e._v("清除配置")])],1)],1)],1)}),[],!1,null,null,null);t.default=s.exports},c9f7:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return d}));n("ac1f"),n("00b4"),n("d3b7"),n("99af");var r=n("bc3a"),i=n.n(r),o=n("323e"),s=n.n(o),a=(n("a5d8"),n("5c96")),u=i.a.create({baseURL:"https://api.github.com",timeout:3e4});function c(e){return u({url:"/user",method:"GET",headers:{Authorization:"token ".concat(e)}})}function l(e){return u({url:"/users/".concat(e,"/repos"),method:"GET"})}function f(e,t,n){return u({url:"/repos/".concat(e,"/").concat(t,"/contents").concat(n),method:"GET"})}function m(e,t,n,r){return u({url:"/repos/".concat(e,"/").concat(t,"/contents/").concat(n),method:"DELETE",data:r})}function d(e,t,n,r,i){return u({url:"/repos/".concat(e,"/").concat(t,"/contents").concat(n,"/").concat(r),method:"PUT",data:i})}u.interceptors.request.use((function(e){s.a.start(),/get/i.test(e.method)&&(e.params=e.params||{},e.params.t=(new Date).getTime());var t=localStorage.getItem("githubToken");return t&&(e.headers.Authorization="token ".concat(t)),e}),(function(e){return console.info(e),Promise.reject(e)})),u.interceptors.response.use((function(e){return s.a.done(),e.data}),(function(e){return console.info(e),a.Message.error(e.message),Promise.reject(e)}))},f024:function(e,t,n){"use strict";n("9762")}}]);